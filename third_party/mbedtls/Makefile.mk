################################################################################
# Library OpenThread (OT) - THRIDPARTY/MBEDTLS Rules
################################################################################

LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_DIR		= $(LIBRARY_STACK_OPENTHREAD_3RDPARTY_DIR)/mbedtls
LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_REPO_DIR	= $(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_DIR)/repo
LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR	= $(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_REPO_DIR)/library

ifneq (,$(filter $(CONFIG_OPENTHREAD_ENABLE_DTLS),y yes YES 1))
LIB_CSRC								+=										\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/aes.c					\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/aesni.c				\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/arc4.c					\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/asn1parse.c			\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/asn1write.c			\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/base64.c				\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/bignum.c				\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/blowfish.c				\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/camellia.c				\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/ccm.c					\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/cipher.c				\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/cipher_wrap.c			\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/ctr_drbg.c				\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/des.c					\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/dhm.c					\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/ecdh.c					\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/ecdsa.c				\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/ecjpake.c				\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/ecp.c					\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/ecp_curves.c			\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/entropy.c				\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/entropy_poll.c			\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/error.c				\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/gcm.c					\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/havege.c				\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/hmac_drbg.c			\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/md.c					\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/md2.c					\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/md4.c					\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/md5.c					\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/md_wrap.c				\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/memory_buffer_alloc.c	\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/oid.c					\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/padlock.c				\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/pem.c					\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/pk.c					\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/pk_wrap.c				\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/pkcs12.c				\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/pkcs5.c				\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/pkparse.c				\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/pkwrite.c				\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/platform.c				\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/ripemd160.c			\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/rsa.c					\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/sha1.c					\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/sha256.c				\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/sha512.c				\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/threading.c			\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/timing.c				\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/version.c				\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/version_features.c		\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/xtea.c

LIB_CSRC								+=										\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/certs.c				\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/pkcs11.c				\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/x509.c					\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/x509_create.c			\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/x509_crl.c				\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/x509_crt.c				\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/x509_csr.c				\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/x509write_crt.c		\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/x509write_csr.c

LIB_CSRC								+=										\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/debug.c				\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/net.c					\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/ssl_cache.c			\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/ssl_ciphersuites.c		\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/ssl_cli.c				\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/ssl_cookie.c			\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/ssl_srv.c				\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/ssl_ticket.c			\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_SRC_DIR)/ssl_tls.c

endif

INC_PATH								+=										\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_REPO_DIR)/configs				\
	$(LIBRARY_STACK_OPENTHREAD_3RDPARTY_MBEDTLS_REPO_DIR)/include				\
